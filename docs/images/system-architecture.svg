<svg viewBox="0 0 1600 1000" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="800" y="35" font-size="32" font-weight="bold" text-anchor="middle" fill="#1a1a1a">
    SaaS Platform - System Architecture
  </text>

  <!-- Layer Headers -->
  <text x="30" y="85" font-size="14" font-weight="bold" fill="#0c4a6e">CLIENT LAYER</text>
  <text x="30" y="195" font-size="14" font-weight="bold" fill="#15803d">APPLICATION LAYER</text>
  <text x="30" y="475" font-size="14" font-weight="bold" fill="#92400e">DATA LAYER</text>

  <!-- ===== CLIENT LAYER ===== -->

  <!-- Web Browser -->
  <rect x="100" y="100" width="180" height="80" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="5"/>
  <text x="190" y="130" font-size="12" font-weight="bold" text-anchor="middle" fill="#1976d2">Web Browser</text>
  <text x="190" y="150" font-size="10" text-anchor="middle" fill="#0c4a6e">React 18 + Vite</text>
  <text x="190" y="165" font-size="10" text-anchor="middle" fill="#0c4a6e">TailwindCSS</text>

  <!-- Mobile Client -->
  <rect x="380" y="100" width="180" height="80" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="5"/>
  <text x="470" y="130" font-size="12" font-weight="bold" text-anchor="middle" fill="#1976d2">Mobile App</text>
  <text x="470" y="150" font-size="10" text-anchor="middle" fill="#0c4a6e">React Native</text>
  <text x="470" y="165" font-size="10" text-anchor="middle" fill="#0c4a6e">(Future)</text>

  <!-- Desktop Client -->
  <rect x="660" y="100" width="180" height="80" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="5"/>
  <text x="750" y="130" font-size="12" font-weight="bold" text-anchor="middle" fill="#1976d2">Desktop App</text>
  <text x="750" y="150" font-size="10" text-anchor="middle" fill="#0c4a6e">Electron</text>
  <text x="750" y="165" font-size="10" text-anchor="middle" fill="#0c4a6e">(Future)</text>

  <!-- Admin Portal -->
  <rect x="940" y="100" width="180" height="80" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="5"/>
  <text x="1030" y="130" font-size="12" font-weight="bold" text-anchor="middle" fill="#f57c00">Admin Portal</text>
  <text x="1030" y="150" font-size="10" text-anchor="middle" fill="#92400e">Super Admin Only</text>
  <text x="1030" y="165" font-size="10" text-anchor="middle" fill="#92400e">Tenant Management</text>

  <!-- CDN -->
  <rect x="1220" y="100" width="180" height="80" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2" rx="5"/>
  <text x="1310" y="130" font-size="12" font-weight="bold" text-anchor="middle" fill="#7b1fa2">CDN</text>
  <text x="1310" y="150" font-size="10" text-anchor="middle" fill="#6b21a8">Static Assets</text>
  <text x="1310" y="165" font-size="10" text-anchor="middle" fill="#6b21a8">Images, JS, CSS</text>

  <!-- Arrows from clients to API -->
  <path d="M 190 180 L 400 210" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 470 180 L 450 210" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 750 180 L 500 210" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 1030 180 L 600 210" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- ===== APPLICATION LAYER ===== -->

  <!-- API Gateway / Load Balancer -->
  <rect x="200" y="210" width="600" height="60" fill="#f0fce7" stroke="#22c55e" stroke-width="2" rx="5"/>
  <text x="500" y="240" font-size="12" font-weight="bold" text-anchor="middle" fill="#15803d">API Gateway / Load Balancer (NGINX)</text>

  <!-- Backend API Servers -->
  <rect x="100" y="320" width="240" height="120" fill="#f3e8ff" stroke="#a855f7" stroke-width="2" rx="5"/>
  <text x="220" y="345" font-size="12" font-weight="bold" text-anchor="middle" fill="#6b21a8">Backend API Server</text>
  <text x="220" y="365" font-size="10" text-anchor="middle" fill="#6b21a8">Node.js + Express</text>
  <text x="220" y="380" font-size="10" text-anchor="middle" fill="#6b21a8">Port: 5000</text>
  <text x="220" y="395" font-size="10" text-anchor="middle" fill="#6b21a8">Routes: /api/*</text>
  <text x="220" y="410" font-size="10" text-anchor="middle" fill="#6b21a8">JWT Auth</text>

  <!-- Middleware Components -->
  <rect x="420" y="320" width="200" height="120" fill="#fce7f3" stroke="#ec4899" stroke-width="2" rx="5"/>
  <text x="520" y="345" font-size="11" font-weight="bold" text-anchor="middle" fill="#831843">Middleware</text>
  <text x="520" y="362" font-size="9" text-anchor="middle" fill="#831843">• Auth Guard</text>
  <text x="520" y="377" font-size="9" text-anchor="middle" fill="#831843">• Tenant Isolation</text>
  <text x="520" y="392" font-size="9" text-anchor="middle" fill="#831843">• Role-Based Access</text>
  <text x="520" y="407" font-size="9" text-anchor="middle" fill="#831843">• Error Handling</text>

  <!-- Business Logic -->
  <rect x="680" y="320" width="200" height="120" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" rx="5"/>
  <text x="780" y="345" font-size="11" font-weight="bold" text-anchor="middle" fill="#92400e">Business Logic</text>
  <text x="780" y="362" font-size="9" text-anchor="middle" fill="#92400e">• User Service</text>
  <text x="780" y="377" font-size="9" text-anchor="middle" fill="#92400e">• Project Service</text>
  <text x="780" y="392" font-size="9" text-anchor="middle" fill="#92400e">• Task Service</text>
  <text x="780" y="407" font-size="9" text-anchor="middle" fill="#92400e">• Tenant Service</text>

  <!-- Utilities & Helpers -->
  <rect x="940" y="320" width="200" height="120" fill="#e8f4f8" stroke="#0891b2" stroke-width="2" rx="5"/>
  <text x="1040" y="345" font-size="11" font-weight="bold" text-anchor="middle" fill="#0c4a6e">Utilities</text>
  <text x="1040" y="362" font-size="9" text-anchor="middle" fill="#0c4a6e">• JWT Handlers</text>
  <text x="1040" y="377" font-size="9" text-anchor="middle" fill="#0c4a6e">• Password Utils</text>
  <text x="1040" y="392" font-size="9" text-anchor="middle" fill="#0c4a6e">• Validators</text>
  <text x="1040" y="407" font-size="9" text-anchor="middle" fill="#0c4a6e">• Constants</text>

  <!-- Cache Layer -->
  <rect x="1200" y="320" width="180" height="120" fill="#f0fce7" stroke="#22c55e" stroke-width="2" rx="5"/>
  <text x="1290" y="345" font-size="11" font-weight="bold" text-anchor="middle" fill="#15803d">Cache</text>
  <text x="1290" y="365" font-size="9" text-anchor="middle" fill="#15803d">Redis</text>
  <text x="1290" y="380" font-size="9" text-anchor="middle" fill="#15803d">(Session Store)</text>
  <text x="1290" y="395" font-size="9" text-anchor="middle" fill="#15803d">(Performance)</text>
  <text x="1290" y="410" font-size="9" text-anchor="middle" fill="#15803d">(Future)</text>

  <!-- Arrows in Application Layer -->
  <path d="M 500 270 L 220 320" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 520 320 L 500 270" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 220 440 L 520 440" stroke="#999" stroke-width="1" stroke-dasharray="3,3"/>
  <path d="M 220 440 L 780 440" stroke="#999" stroke-width="1" stroke-dasharray="3,3"/>
  <path d="M 220 440 L 1040 440" stroke="#999" stroke-width="1" stroke-dasharray="3,3"/>

  <!-- ===== DATA LAYER ===== -->

  <!-- PostgreSQL Database -->
  <rect x="100" y="490" width="240" height="140" fill="#e8f4f8" stroke="#0891b2" stroke-width="2" rx="5"/>
  <text x="220" y="520" font-size="12" font-weight="bold" text-anchor="middle" fill="#0c4a6e">PostgreSQL</text>
  <text x="220" y="540" font-size="10" text-anchor="middle" fill="#0c4a6e">Database</text>
  <text x="220" y="560" font-size="9" text-anchor="middle" fill="#0c4a6e">• tenants</text>
  <text x="220" y="575" font-size="9" text-anchor="middle" fill="#0c4a6e">• users</text>
  <text x="220" y="590" font-size="9" text-anchor="middle" fill="#0c4a6e">• projects</text>
  <text x="220" y="605" font-size="9" text-anchor="middle" fill="#0c4a6e">• tasks</text>
  <text x="220" y="620" font-size="9" text-anchor="middle" fill="#0c4a6e">• audit_logs</text>

  <!-- Message Queue -->
  <rect x="420" y="490" width="240" height="140" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" rx="5"/>
  <text x="540" y="520" font-size="12" font-weight="bold" text-anchor="middle" fill="#92400e">Message Queue</text>
  <text x="540" y="540" font-size="10" text-anchor="middle" fill="#92400e">Background Jobs</text>
  <text x="540" y="560" font-size="9" text-anchor="middle" fill="#92400e">• Emails</text>
  <text x="540" y="575" font-size="9" text-anchor="middle" fill="#92400e">• Notifications</text>
  <text x="540" y="590" font-size="9" text-anchor="middle" fill="#92400e">• Audit Logs</text>
  <text x="540" y="605" font-size="9" text-anchor="middle" fill="#92400e">• Exports</text>
  <text x="540" y="620" font-size="9" text-anchor="middle" fill="#92400e">(Future)</text>

  <!-- Search Engine -->
  <rect x="740" y="490" width="240" height="140" fill="#fce7f3" stroke="#ec4899" stroke-width="2" rx="5"/>
  <text x="860" y="520" font-size="12" font-weight="bold" text-anchor="middle" fill="#831843">Search Engine</text>
  <text x="860" y="540" font-size="10" text-anchor="middle" fill="#831843">Elasticsearch</text>
  <text x="860" y="560" font-size="9" text-anchor="middle" fill="#831843">• Full-text search</text>
  <text x="860" y="575" font-size="9" text-anchor="middle" fill="#831843">• Indexing</text>
  <text x="860" y="590" font-size="9" text-anchor="middle" fill="#831843">• Analytics</text>
  <text x="860" y="605" font-size="9" text-anchor="middle" fill="#831843">• Logs</text>
  <text x="860" y="620" font-size="9" text-anchor="middle" fill="#831843">(Future)</text>

  <!-- External Services -->
  <rect x="1060" y="490" width="240" height="140" fill="#f3e8ff" stroke="#a855f7" stroke-width="2" rx="5"/>
  <text x="1180" y="520" font-size="12" font-weight="bold" text-anchor="middle" fill="#6b21a8">External Services</text>
  <text x="1180" y="540" font-size="10" text-anchor="middle" fill="#6b21a8">Third-party APIs</text>
  <text x="1180" y="560" font-size="9" text-anchor="middle" fill="#6b21a8">• Email (SendGrid)</text>
  <text x="1180" y="575" font-size="9" text-anchor="middle" fill="#6b21a8">• Payment (Stripe)</text>
  <text x="1180" y="590" font-size="9" text-anchor="middle" fill="#6b21a8">• SMS (Twilio)</text>
  <text x="1180" y="605" font-size="9" text-anchor="middle" fill="#6b21a8">• Storage (S3)</text>
  <text x="1180" y="620" font-size="9" text-anchor="middle" fill="#6b21a8">(Future)</text>

  <!-- Arrows from API to Data Layer -->
  <path d="M 220 440 L 220 490" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 540 440 L 540 490" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 860 440 L 860 490" stroke="#999" stroke-width="1" stroke-dasharray="3,3"/>
  <path d="M 1180 440 L 1180 490" stroke="#999" stroke-width="1" stroke-dasharray="3,3"/>

  <!-- Key Features Box -->
  <rect x="100" y="700" width="1280" height="250" fill="#f0fce7" stroke="#22c55e" stroke-width="2" rx="5"/>
  <text x="740" y="730" font-size="14" font-weight="bold" text-anchor="middle" fill="#15803d">Key Architecture Features</text>

  <text x="120" y="760" font-size="11" font-weight="bold" fill="#15803d">Multi-Tenancy:</text>
  <text x="120" y="778" font-size="10" fill="#0c4a6e">✓ Tenant isolation at database level (tenant_id on all tables)</text>
  <text x="120" y="795" font-size="10" fill="#0c4a6e">✓ Separate subdomain routing (example.saasplatform.com)</text>
  <text x="120" y="812" font-size="10" fill="#0c4a6e">✓ Resource quotas per tenant (max_users, max_projects)</text>

  <text x="600" y="760" font-size="11" font-weight="bold" fill="#15803d">Security:</text>
  <text x="600" y="778" font-size="10" fill="#0c4a6e">✓ JWT-based authentication with role-based access control</text>
  <text x="600" y="795" font-size="10" fill="#0c4a6e">✓ Three role levels: super_admin, tenant_admin, user</text>
  <text x="600" y="812" font-size="10" fill="#0c4a6e">✓ All requests validated against tenant and role permissions</text>

  <text x="120" y="850" font-size="11" font-weight="bold" fill="#15803d">Scalability:</text>
  <text x="120" y="868" font-size="10" fill="#0c4a6e">✓ Stateless API servers (horizontal scaling)</text>
  <text x="120" y="885" font-size="10" fill="#0c4a6e">✓ Load balancer distribution (NGINX)</text>
  <text x="120" y="902" font-size="10" fill="#0c4a6e">✓ Database connection pooling</text>

  <text x="600" y="850" font-size="11" font-weight="bold" fill="#15803d">Monitoring & Audit:</text>
  <text x="600" y="868" font-size="10" fill="#0c4a6e">✓ Comprehensive audit logging (user actions tracked)</text>
  <text x="600" y="885" font-size="10" fill="#0c4a6e">✓ API response logging and error tracking</text>
  <text x="600" y="902" font-size="10" fill="#0c4a6e">✓ Performance metrics collection</text>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666"/>
    </marker>
  </defs>
</svg>

</svg>
